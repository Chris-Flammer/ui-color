var app=angular.module("uicolor",["ngRoute","ui.bootstrap","ngClipboard","colorpicker.module","controllers"]);app.constant("appConfig",{themePrimary:"#0072bc"}),app.run(function($rootScope,$route){$rootScope.$on("$locationChangeSuccess",function(){"undefined"!=typeof ga&&$route.current.$$route&&ga("send","event","page","view",$route.current.$$route.controller)})}),app.config(["$routeProvider",function($routeProvider){$routeProvider.when("/hex-to-ui",{templateUrl:"templates/hex-to-ui.html",controller:"HexToUICtrl"}).when("/rgb-to-ui",{templateUrl:"templates/rgb-to-ui.html",controller:"RgbToUICtrl"}).otherwise({redirectTo:"/hex-to-ui"})}]),app.config(["ngClipProvider",function(ngClipProvider){ngClipProvider.setPath("../images/ZeroClipboard.swf")}]),angular.module("controllers",["controllers.header","controllers.hextoui","controllers.rgbtoui"]);var app=angular.module("controllers.header",["ngRoute","ui.bootstrap"]);app.controller("HeaderCtrl",function(appConfig,$scope,$location){$scope.isActive=function(viewLocation){var active=viewLocation===$location.path();return active},$scope.selectedColor=appConfig.themePrimary,$scope.$on("ColorChanged",function(event,args){$scope.selectedColor=args.rgb?args.rgb:args})});var app=angular.module("controllers.hextoui",["ngRoute","ui.bootstrap","colorpicker.module"]);app.controller("HexToUICtrl",function(appConfig,$scope,$filter,$rootScope){function convertHexToRgb(hex){var r=(parseInt(hex.substring(0,2),16)/255).toFixed(2),g=(parseInt(hex.substring(2,4),16)/255).toFixed(2),b=(parseInt(hex.substring(4,6),16)/255).toFixed(2);if(isNaN(r)||isNaN(g)||isNaN(b))$rootScope.$broadcast("ColorChanged",appConfig.themePrimary),$scope.hexValid=!1;else{var tempHex="#"+hex;$scope.style={bgColor:tempHex},$rootScope.$broadcast("ColorChanged",tempHex),$scope.hexValid=!0,$scope.uiColor={r:r,g:g,b:b}}}function updateCopyText(){$scope.copyObjectiveC="[UIColor colorWithRed:"+$scope.uiColor.r+" green:"+$scope.uiColor.g+" blue:"+$scope.uiColor.b+" alpha:"+$scope.alpha+"];",$scope.copySwift="UIColor(red:"+$scope.uiColor.r+", green:"+$scope.uiColor.g+", blue:"+$scope.uiColor.b+", alpha:"+$scope.alpha+")"}$scope.title="HEX to UIColor Converter",$scope.hexValid=!0,$scope.alphaValid=!0,$scope.alphaInput="1.0",$scope.alpha="1.0",$scope.hexToRgb=function(hex){if(hex=hex.replace("#",""),3==hex.length){var tempHex=hex+hex.charAt(2)+hex.charAt(1)+hex.charAt(0);convertHexToRgb(tempHex)}else 6==hex.length?convertHexToRgb(hex):($scope.hexValid=!1,$rootScope.$broadcast("ColorChanged",appConfig.themePrimary))},$scope.alphaChanged=function(alpha){isNaN(alpha)?($scope.alpha="1.0",$scope.alphaValid=!1):alpha>=0&&1>=alpha?($scope.alphaValid=!0,$scope.alpha="1"==alpha||"0"==alpha?alpha+".0":alpha):($scope.alpha="1.0",$scope.alphaValid=!1),alpha.length||($scope.alpha="1.0"),updateCopyText()},$scope.$watch("hex",function(hex){hex?($scope.hexToRgb(hex),updateCopyText()):$rootScope.$broadcast("ColorChanged",appConfig.themePrimary)},!0)});var app=angular.module("controllers.rgbtoui",["ngRoute","ui.bootstrap","colorpicker.module"]);app.controller("RgbToUICtrl",function(appConfig,$scope,$filter,$rootScope){function convertRgbToUi(color){$scope.color.rgb=color,$scope.color.r=color.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[0],$scope.color.g=color.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[1],$scope.color.b=color.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[2],$scope.uiColor={r:($scope.color.r/255).toFixed(2),g:($scope.color.g/255).toFixed(2),b:($scope.color.b/255).toFixed(2)},updateCopyText(),$rootScope.$broadcast("ColorChanged",$scope.color)}function updateCopyText(){$scope.copyObjectiveC="[UIColor colorWithRed:"+$scope.uiColor.r+" green:"+$scope.uiColor.g+" blue:"+$scope.uiColor.b+" alpha:"+$scope.alpha+"];",$scope.copySwift="UIColor(red:"+$scope.uiColor.r+", green:"+$scope.uiColor.g+", blue:"+$scope.uiColor.b+", alpha:"+$scope.alpha+")"}$scope.title="RGB to UIColor Converter",$scope.rgbValid=!0,$scope.alphaValid=!0,$scope.alpha="1.0",$scope.color={rgb:"",r:"",g:"",b:""},$scope.$watch("color",function(newVal){newVal.r&&newVal.g&&newVal.b?isNaN(newVal.r)||isNaN(newVal.g)||isNaN(newVal.b)?($rootScope.$broadcast("ColorChanged",appConfig.themePrimary),$scope.rgbValid=!1):($scope.color.rgb="rgb("+$scope.color.r+","+$scope.color.g+","+$scope.color.b+")",convertRgbToUi($scope.color.rgb)):$rootScope.$broadcast("ColorChanged",appConfig.themePrimary)},!0),$scope.$watch("rgb",function(newVal){newVal?convertRgbToUi(newVal):$rootScope.$broadcast("ColorChanged",appConfig.themePrimary)},!0)});